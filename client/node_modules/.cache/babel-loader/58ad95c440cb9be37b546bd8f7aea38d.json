{"ast":null,"code":"var _jsxFileName = \"/Users/fab/Documents/cryptodev/react-jwt-auth/src/components/Profile.js\";\nimport React, { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport AuthService from \"../services/auth.service\";\nimport { Switch, Route, Link } from \"react-router-dom\";\nexport default class Profile extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      redirect: null,\n      userReady: false,\n      currentUser: {\n        username: \"\"\n      }\n    };\n  }\n\n  componentDidMount() {\n    const currentUser = AuthService.getCurrentUser();\n    if (!currentUser) this.setState({\n      redirect: \"/\"\n    });\n    this.setState({\n      currentUser: currentUser,\n      userReady: true\n    });\n  }\n\n  render() {\n    if (this.state.redirect) {\n      return React.createElement(Redirect, {\n        to: this.state.redirect,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26\n        },\n        __self: this\n      });\n    }\n\n    const {\n      currentUser\n    } = this.state;\n    console.log(currentUser);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }, React.createElement(\"header\", {\n      className: \"jumbotron\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }, currentUser.username), \" Profile\")), React.createElement(\"div\", {\n      className: \"col-md\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/edit-profile\",\n      className: \"nav-link\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-secondary new-experience-button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, \"Edit Profile\"))))), this.state.userReady ? React.createElement(\"div\", {\n      className: \"container profile-card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, \"Token:\"), \" \", currentUser.accessToken.substring(0, 20), \" \", \"...\", \" \", currentUser.accessToken.substr(currentUser.accessToken.length - 20)), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \"Id:\"), \" \", currentUser.id), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, \"Email:\"), \" \", currentUser.email), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, \"First Name:\"), \" \", currentUser.firstName), React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"Authorities:\"), React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, currentUser.roles && currentUser.roles.map((role, index) => React.createElement(\"li\", {\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, role)))) : null);\n  }\n\n}","map":{"version":3,"sources":["/Users/fab/Documents/cryptodev/react-jwt-auth/src/components/Profile.js"],"names":["React","Component","Redirect","AuthService","Switch","Route","Link","Profile","constructor","props","state","redirect","userReady","currentUser","username","componentDidMount","getCurrentUser","setState","render","console","log","accessToken","substring","substr","length","id","email","firstName","roles","map","role","index"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport AuthService from \"../services/auth.service\";\nimport { Switch, Route, Link } from \"react-router-dom\";\n\nexport default class Profile extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      redirect: null,\n      userReady: false,\n      currentUser: { username: \"\" },\n    };\n  }\n\n  componentDidMount() {\n    const currentUser = AuthService.getCurrentUser();\n\n    if (!currentUser) this.setState({ redirect: \"/\" });\n    this.setState({ currentUser: currentUser, userReady: true });\n  }\n\n  render() {\n    if (this.state.redirect) {\n      return <Redirect to={this.state.redirect} />;\n    }\n\n    const { currentUser } = this.state;\n    console.log(currentUser);\n    return (\n      <div>\n        <header className=\"jumbotron\">\n          <div className=\"row\">\n            <div className=\"col-md\">\n              <h3>\n                <strong>{currentUser.username}</strong> Profile\n              </h3>\n            </div>\n            <div className=\"col-md\">\n              <Link to={\"/edit-profile\"} className=\"nav-link\">\n                <button className=\"btn btn-secondary new-experience-button\">\n                  Edit Profile\n                </button>\n              </Link>\n            </div>\n          </div>\n        </header>\n        {this.state.userReady ? (\n          <div className=\"container profile-card\">\n            <p>\n              <strong>Token:</strong> {currentUser.accessToken.substring(0, 20)}{\" \"}\n              ...{\" \"}\n              {currentUser.accessToken.substr(\n                currentUser.accessToken.length - 20\n              )}\n            </p>\n            <p>\n              <strong>Id:</strong> {currentUser.id}\n            </p>\n            <p>\n              <strong>Email:</strong> {currentUser.email}\n            </p>\n            <p>\n              <strong>First Name:</strong> {currentUser.firstName}\n            </p>\n            <strong>Authorities:</strong>\n            <ul>\n              {currentUser.roles &&\n                currentUser.roles.map((role, index) => (\n                  <li key={index}>{role}</li>\n                ))}\n            </ul>\n          </div>\n        ) : null}\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}